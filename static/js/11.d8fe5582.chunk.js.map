{"version":3,"sources":["views/Voting/components/DesktopImage.tsx","views/Voting/components/Hero.tsx","views/Voting/components/Footer.tsx","views/Voting/components/Proposals/ProposalsLoading.tsx","views/Voting/components/Proposals/TabMenu.tsx","views/Voting/components/Proposals/TimeFrame.tsx","views/Voting/components/Proposals/ProposalRow.tsx","views/Voting/components/Proposals/Filters.tsx","views/Voting/components/Proposals/Proposals.tsx","views/Voting/index.tsx","views/Voting/helpers.ts","views/Voting/config.ts","state/voting/hooks.ts","../node_modules/lodash/times.js","views/Voting/components/Proposals/tags.tsx","views/Voting/components/BreadcrumbLink.tsx","../node_modules/lodash/_castFunction.js","../node_modules/lodash/toInteger.js"],"names":["DesktopImage","styled","Image","_ref","theme","mediaQueries","lg","StyledHero","Box","colors","gradients","bubblegum","Hero","t","useTranslation","_jsx","children","Container","_jsxs","Flex","alignItems","justifyContent","pr","Heading","as","scale","color","mb","Button","startIcon","ProposalIcon","width","Link","to","src","height","StyledFooter","Footer","Text","Row","cardBorder","Wrapper","div","ProposalsLoading","times","PROPOSALS_TO_SHOW","map","index","py","px","style","flex","Skeleton","StyledTabMenu","input","getIndexFromType","proposalType","ProposalType","COMMUNITY","ALL","CORE","TabMenu","_ref2","onTypeChange","UIKitTabMenu","activeIndex","onItemClick","getTypeFromIndex","Tab","VerifiedIcon","mr","CommunityIcon","getFormattedDate","timestamp","date","toDate","format","TimeFrame","startDate","endDate","proposalState","textProps","fontSize","ml","ProposalState","CLOSED","PENDING","StyledProposalRow","dropdown","ProposalRow","_ref3","proposal","votingLink","id","bold","title","start","end","state","ProposalStateTag","ProposalTypeTag","isCoreProposal","IconButton","variant","ArrowForwardIcon","StyledFilters","attrs","FilterLabel","label","options","value","ACTIVE","Filters","filterState","onFilterChange","isLoading","Radio","checked","onChange","evt","radioValue","currentTarget","disabled","Proposals","setState","useState","proposalStatus","useGetProposalLoadingStatus","proposals","useGetProposals","dispatch","useAppDispatch","VotingStateLoadingStatus","LOADING","isIdle","IDLE","useEffect","fetchProposals","first","filteredProposals","filterProposalsByState","filterProposalsByType","Breadcrumbs","BreadcrumbLink","Card","newProposalType","prevState","newFilterState","length","p","Chrome","Content","Voting","flexDirection","minHeight","author","toLowerCase","ADMIN_ADDRESS","filter","generateMetaData","plugins","network","strategies","name","params","symbol","address","getCakeAddress","decimals","generatePayloadData","version","SNAPSHOT_VERSION","Date","now","toFixed","space","PANCAKE_SPACE","sendSnaphotData","async","response","fetch","SNAPSHOT_HUB_API","method","headers","Accept","body","JSON","stringify","message","ok","error","json","Error","error_description","getVotingPower","account","poolAddresses","block","blockNumber","simpleRpcProvider","getBlockNumber","SNAPSHOT_VOTING_API","data","calculateVoteResults","votes","reduce","accum","vote","choiceText","choices","choice","getTotalFromVotes","_vote$metadata","power","BigNumber","metadata","votingPower","plus","BIG_ZERO","IPFS_GATEWAY","VOTE_THRESHOLD","useSelector","voting","Object","values","useGetProposal","proposalId","useGetVotes","_inValid","useGetVotingStateLoadingStatus","voteLoadingStatus","proposalLoadingStatus","baseTimes","require","castFunction","toInteger","MAX_ARRAY_LENGTH","nativeMin","Math","min","module","exports","n","iteratee","result","props","VoteNowTag","SoonTag","ClosedTag","CoreTag","CommunityTag","primaryBright","identity","toFinite","remainder"],"mappings":"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","file":"static/js/11.d8fe5582.chunk.js","sourcesContent":["import { Image } from 'components/_uikit'\nimport styled from 'styled-components'\n\nconst DesktopImage = styled(Image)`\n  display: none;\n\n  ${({ theme }) => theme.mediaQueries.lg} {\n    display: block;\n  }\n`\n\nexport default DesktopImage\n","import React from 'react'\nimport { Box, Button, Flex, Heading, ProposalIcon } from 'components/_uikit'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\nimport { useTranslation } from 'contexts/Localization'\nimport Container from 'components/Layout/Container'\nimport DesktopImage from './DesktopImage'\n\nconst StyledHero = styled(Box)`\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\n  padding-bottom: 32px;\n  padding-top: 32px;\n`\n\nconst Hero = () => {\n  const { t } = useTranslation()\n\n  return (\n    <StyledHero>\n      <Container>\n        <Flex alignItems=\"center\" justifyContent=\"space-between\">\n          <Box pr=\"32px\">\n            <Heading as=\"h1\" scale=\"xxl\" color=\"secondary\" mb=\"16px\">\n              {t('Voting')}\n            </Heading>\n            <Heading as=\"h3\" scale=\"lg\" mb=\"16px\">\n              {t('Have your say in the future of the 1TronicSwap Ecosystem')}\n            </Heading>\n            <Button\n              startIcon={<ProposalIcon color=\"currentColor\" width=\"24px\" />}\n              as={Link}\n              to=\"/voting/proposal/create\"\n            >\n              {t('Make a Proposal')}\n            </Button>\n          </Box>\n          <DesktopImage src=\"/images/voting/voting-presents.png\" width={361} height={214} />\n        </Flex>\n      </Container>\n    </StyledHero>\n  )\n}\n\nexport default Hero\n","import React from 'react'\nimport { Box, Button, Text, Heading, ProposalIcon, Flex } from 'components/_uikit'\nimport { Link } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport Container from 'components/Layout/Container'\nimport DesktopImage from './DesktopImage'\n\nconst StyledFooter = styled(Box)`\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\n  padding-bottom: 32px;\n  padding-top: 32px;\n`\n\nconst Footer = () => {\n  const { t } = useTranslation()\n\n  return (\n    <StyledFooter>\n      <Container>\n        <Flex alignItems=\"center\" justifyContent=\"space-between\">\n          <Box pr=\"32px\">\n            <Heading as=\"h2\" scale=\"lg\" mb=\"16px\">\n              {t('Got a suggestion?')}\n            </Heading>\n            <Text as=\"p\">\n              {t('Community proposals are a great way to see how the community feels about your ideas.')}\n            </Text>\n            <Text as=\"p\" mb=\"16px\">\n              {t(\n                \"They won't necessarily be implemented if the community votes successful, but suggestions with a lot of community support may be made into Core proposals.\",\n              )}\n            </Text>\n\n            <Button\n              startIcon={<ProposalIcon color=\"currentColor\" width=\"24px\" />}\n              as={Link}\n              to=\"/voting/proposal/create\"\n            >\n              {t('Make a Proposal')}\n            </Button>\n          </Box>\n          <DesktopImage src=\"/images/voting/voting-bunny.png\" width={173} height={234} />\n        </Flex>\n      </Container>\n    </StyledFooter>\n  )\n}\n\nexport default Footer\n","import React from 'react'\nimport { Box, Flex, Skeleton } from 'components/_uikit'\nimport styled from 'styled-components'\nimport times from 'lodash/times'\nimport { PROPOSALS_TO_SHOW } from '../../config'\n\nconst Row = styled(Flex)`\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\n`\n\nconst Wrapper = styled.div`\n  ${Row}:last-child {\n    border-bottom: 0;\n  }\n`\n\nconst ProposalsLoading = () => {\n  return (\n    <Wrapper>\n      {times(PROPOSALS_TO_SHOW).map((index) => (\n        <Row key={index} alignItems=\"center\" justifyContent=\"space-between\" py=\"16px\" px=\"24px\">\n          <Box style={{ flex: 1 }}>\n            <Skeleton height=\"21px\" width=\"70%\" mb=\"4px\" />\n            <Skeleton height=\"21px\" width=\"30%\" mb=\"4px\" />\n            <Skeleton height=\"21px\" width=\"40%\" />\n          </Box>\n          <Skeleton height=\"32px\" width=\"32px\" />\n        </Row>\n      ))}\n    </Wrapper>\n  )\n}\n\nexport default ProposalsLoading\n","import React from 'react'\nimport styled from 'styled-components'\nimport { TabMenu as UIKitTabMenu, Tab, Flex, VerifiedIcon, CommunityIcon } from 'components/_uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport { ProposalType } from 'state/types'\n\ninterface TabMenuProps {\n  proposalType: ProposalType\n  onTypeChange: (proposalType: ProposalType) => void\n}\n\nconst StyledTabMenu = styled.div`\n  background-color: ${({ theme }) => theme.colors.input};\n  padding-top: 16px;\n`\n\nconst getIndexFromType = (proposalType: ProposalType) => {\n  switch (proposalType) {\n    case ProposalType.COMMUNITY:\n      return 1\n    case ProposalType.ALL:\n      return 2\n    case ProposalType.CORE:\n    default:\n      return 0\n  }\n}\n\nconst getTypeFromIndex = (index: number) => {\n  switch (index) {\n    case 1:\n      return ProposalType.COMMUNITY\n    case 2:\n      return ProposalType.ALL\n    default:\n      return ProposalType.CORE\n  }\n}\n\nconst TabMenu: React.FC<TabMenuProps> = ({ proposalType, onTypeChange }) => {\n  const { t } = useTranslation()\n  const handleItemClick = (index: number) => {\n    onTypeChange(getTypeFromIndex(index))\n  }\n\n  return (\n    <StyledTabMenu>\n      <UIKitTabMenu activeIndex={getIndexFromType(proposalType)} onItemClick={handleItemClick}>\n        <Tab>\n          <Flex alignItems=\"center\">\n            <VerifiedIcon color=\"currentColor\" mr=\"4px\" />\n            {t('Core')}\n          </Flex>\n        </Tab>\n        <Tab>\n          {' '}\n          <Flex alignItems=\"center\">\n            <CommunityIcon color=\"currentColor\" mr=\"4px\" />\n            {t('Community')}\n          </Flex>\n        </Tab>\n        <Tab>All</Tab>\n      </UIKitTabMenu>\n    </StyledTabMenu>\n  )\n}\n\nexport default TabMenu\n","import React from 'react'\nimport { Text } from 'components/_uikit'\nimport { toDate, format } from 'date-fns'\nimport { useTranslation } from 'contexts/Localization'\nimport { ProposalState } from 'state/types'\n\ninterface TimeFrameProps {\n  startDate: number\n  endDate: number\n  proposalState: ProposalState\n}\n\nconst getFormattedDate = (timestamp: number) => {\n  const date = toDate(timestamp * 1000)\n  return format(date, 'MMM do, yyyy HH:mm')\n}\n\nconst TimeFrame: React.FC<TimeFrameProps> = ({ startDate, endDate, proposalState }) => {\n  const { t } = useTranslation()\n  const textProps = {\n    fontSize: '16px',\n    color: 'textSubtle',\n    ml: '8px',\n  }\n\n  if (proposalState === ProposalState.CLOSED) {\n    return <Text {...textProps}>{t('Ended %date%', { date: getFormattedDate(endDate) })}</Text>\n  }\n\n  if (proposalState === ProposalState.PENDING) {\n    return <Text {...textProps}>{t('Starts %date%', { date: getFormattedDate(startDate) })}</Text>\n  }\n\n  return <Text {...textProps}>{t('Ends %date%', { date: getFormattedDate(endDate) })}</Text>\n}\n\nexport default TimeFrame\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { ArrowForwardIcon, Box, IconButton, Flex, Text } from 'components/_uikit'\nimport styled from 'styled-components'\nimport { Proposal } from 'state/types'\nimport { isCoreProposal } from '../../helpers'\nimport TimeFrame from './TimeFrame'\nimport { ProposalStateTag, ProposalTypeTag } from './tags'\n\ninterface ProposalRowProps {\n  proposal: Proposal\n}\n\nconst StyledProposalRow = styled(Link)`\n  align-items: center;\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  display: flex;\n  padding: 16px 24px;\n\n  &:hover {\n    background-color: ${({ theme }) => theme.colors.dropdown};\n  }\n`\n\nconst ProposalRow: React.FC<ProposalRowProps> = ({ proposal }) => {\n  const votingLink = `/voting/proposal/${proposal.id}`\n\n  return (\n    <StyledProposalRow to={votingLink}>\n      <Box as=\"span\" style={{ flex: 1 }}>\n        <Text bold mb=\"8px\">\n          {proposal.title}\n        </Text>\n        <Flex alignItems=\"center\" mb=\"8px\">\n          <TimeFrame startDate={proposal.start} endDate={proposal.end} proposalState={proposal.state} />\n        </Flex>\n        <Flex alignItems=\"center\">\n          <ProposalStateTag proposalState={proposal.state} />\n          <ProposalTypeTag isCoreProposal={isCoreProposal(proposal)} ml=\"8px\" />\n        </Flex>\n      </Box>\n      <IconButton variant=\"text\">\n        <ArrowForwardIcon width=\"24px\" />\n      </IconButton>\n    </StyledProposalRow>\n  )\n}\n\nexport default ProposalRow\n","import React, { ChangeEvent } from 'react'\nimport { Flex, Radio, Text } from 'components/_uikit'\nimport styled from 'styled-components'\nimport { useTranslation } from 'contexts/Localization'\nimport { ProposalState } from 'state/types'\n\ninterface FiltersProps {\n  filterState: ProposalState\n  onFilterChange: (filterState: ProposalState) => void\n  isLoading: boolean\n}\n\nconst StyledFilters = styled(Flex).attrs({ alignItems: 'center' })`\n  border-bottom: 1px solid ${({ theme }) => theme.colors.cardBorder};\n  padding: 16px 24px;\n`\n\nconst FilterLabel = styled.label`\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  margin-right: 16px;\n`\n\nconst options = [\n  { value: ProposalState.ACTIVE, label: 'Vote Now' },\n  { value: ProposalState.PENDING, label: 'Soon' },\n  { value: ProposalState.CLOSED, label: 'Closed' },\n]\n\nconst Filters: React.FC<FiltersProps> = ({ filterState, onFilterChange, isLoading }) => {\n  const { t } = useTranslation()\n\n  return (\n    <StyledFilters>\n      {options.map(({ value, label }) => {\n        const handleChange = (evt: ChangeEvent<HTMLInputElement>) => {\n          const { value: radioValue } = evt.currentTarget\n          onFilterChange(radioValue as ProposalState)\n        }\n\n        return (\n          <FilterLabel key={label}>\n            <Radio\n              scale=\"sm\"\n              value={value}\n              checked={filterState === value}\n              onChange={handleChange}\n              disabled={isLoading}\n            />\n            <Text ml=\"8px\">{t(label)}</Text>\n          </FilterLabel>\n        )\n      })}\n    </StyledFilters>\n  )\n}\n\nexport default Filters\n","import React, { useEffect, useState } from 'react'\nimport { Box, Breadcrumbs, Card, Flex, Heading, Text } from 'components/_uikit'\nimport { useTranslation } from 'contexts/Localization'\nimport Container from 'components/Layout/Container'\nimport { useAppDispatch } from 'state'\nimport { fetchProposals } from 'state/voting'\nimport { useGetProposalLoadingStatus, useGetProposals } from 'state/voting/hooks'\nimport { ProposalState, ProposalType, VotingStateLoadingStatus } from 'state/types'\nimport { filterProposalsByState, filterProposalsByType } from '../../helpers'\nimport BreadcrumbLink from '../BreadcrumbLink'\nimport ProposalsLoading from './ProposalsLoading'\nimport TabMenu from './TabMenu'\nimport ProposalRow from './ProposalRow'\nimport Filters from './Filters'\n\ninterface State {\n  proposalType: ProposalType\n  filterState: ProposalState\n}\n\nconst Proposals = () => {\n  const { t } = useTranslation()\n  const [state, setState] = useState<State>({\n    proposalType: ProposalType.CORE,\n    filterState: ProposalState.ACTIVE,\n  })\n  const proposalStatus = useGetProposalLoadingStatus()\n  const proposals = useGetProposals()\n  const dispatch = useAppDispatch()\n\n  const { proposalType, filterState } = state\n  const isLoading = proposalStatus === VotingStateLoadingStatus.LOADING\n  const isIdle = proposalStatus === VotingStateLoadingStatus.IDLE\n\n  useEffect(() => {\n    dispatch(fetchProposals({ first: 1000, state: filterState }))\n  }, [filterState, dispatch])\n\n  const handleProposalTypeChange = (newProposalType: ProposalType) => {\n    setState((prevState) => ({\n      ...prevState,\n      proposalType: newProposalType,\n    }))\n  }\n\n  const handleFilterChange = (newFilterState: ProposalState) => {\n    setState((prevState) => ({\n      ...prevState,\n      filterState: newFilterState,\n    }))\n  }\n\n  const filteredProposals = filterProposalsByState(filterProposalsByType(proposals, proposalType), filterState)\n\n  return (\n    <Container py=\"40px\">\n      <Box mb=\"48px\">\n        <Breadcrumbs>\n          <BreadcrumbLink to=\"/\">{t('Home')}</BreadcrumbLink>\n          <Text>{t('Voting')}</Text>\n        </Breadcrumbs>\n      </Box>\n      <Heading as=\"h2\" scale=\"xl\" mb=\"32px\">\n        {t('Proposals')}\n      </Heading>\n      <Card>\n        <TabMenu proposalType={proposalType} onTypeChange={handleProposalTypeChange} />\n        <Filters filterState={filterState} onFilterChange={handleFilterChange} isLoading={isLoading} />\n        {isLoading && <ProposalsLoading />}\n        {isIdle &&\n          filteredProposals.length > 0 &&\n          filteredProposals.map((proposal) => {\n            return <ProposalRow key={proposal.id} proposal={proposal} />\n          })}\n        {isIdle && filteredProposals.length === 0 && (\n          <Flex alignItems=\"center\" justifyContent=\"center\" p=\"32px\">\n            <Heading as=\"h5\">{t('No proposals found')}</Heading>\n          </Flex>\n        )}\n      </Card>\n    </Container>\n  )\n}\n\nexport default Proposals\n","import React from 'react'\nimport { Flex } from 'components/_uikit'\nimport styled from 'styled-components'\nimport Hero from './components/Hero'\nimport Footer from './components/Footer'\nimport { Proposals } from './components/Proposals'\n\nconst Chrome = styled.div`\n  flex: none;\n`\n\nconst Content = styled.div`\n  flex: 1;\n  height: 100%;\n`\n\nconst Voting = () => {\n  return (\n    <Flex flexDirection=\"column\" minHeight=\"calc(100vh - 64px)\">\n      <Chrome>\n        <Hero />\n      </Chrome>\n      <Content>\n        <Proposals />\n      </Content>\n      <Chrome>\n        <Footer />\n      </Chrome>\n    </Flex>\n  )\n}\n\nexport default Voting\n","import BigNumber from 'bignumber.js'\nimport { getCakeAddress } from 'utils/addressHelpers'\nimport { SNAPSHOT_HUB_API, SNAPSHOT_VOTING_API } from 'config/constants/endpoints'\nimport { BIG_ZERO } from 'utils/bigNumber'\nimport { Proposal, ProposalState, ProposalType, Vote } from 'state/types'\nimport { simpleRpcProvider } from 'utils/providers'\nimport { ADMIN_ADDRESS, PANCAKE_SPACE, SNAPSHOT_VERSION } from './config'\n\nexport const isCoreProposal = (proposal: Proposal) => {\n  return proposal.author.toLowerCase() === ADMIN_ADDRESS.toLowerCase()\n}\n\nexport const filterProposalsByType = (proposals: Proposal[], proposalType: ProposalType) => {\n  switch (proposalType) {\n    case ProposalType.COMMUNITY:\n      return proposals.filter((proposal) => !isCoreProposal(proposal))\n    case ProposalType.CORE:\n      return proposals.filter((proposal) => isCoreProposal(proposal))\n    case ProposalType.ALL:\n    default:\n      return proposals\n  }\n}\n\nexport const filterProposalsByState = (proposals: Proposal[], state: ProposalState) => {\n  return proposals.filter((proposal) => proposal.state === state)\n}\n\nexport interface Message {\n  address: string\n  msg: string\n  sig: string\n}\n\n/**\n * Generates metadata required by snapshot to validate payload\n */\nexport const generateMetaData = () => {\n  return {\n    plugins: {},\n    network: 56,\n    strategies: [{ name: 'cake', params: { symbol: 'CAKE', address: getCakeAddress(), decimals: 18 } }],\n  }\n}\n\n/**\n * Returns data that is required on all snapshot payloads\n */\nexport const generatePayloadData = () => {\n  return {\n    version: SNAPSHOT_VERSION,\n    timestamp: (Date.now() / 1e3).toFixed(),\n    space: PANCAKE_SPACE,\n  }\n}\n\n/**\n * General function to send commands to the snapshot api\n */\nexport const sendSnaphotData = async (message: Message) => {\n  const response = await fetch(SNAPSHOT_HUB_API, {\n    method: 'post',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(message),\n  })\n\n  if (!response.ok) {\n    const error = await response.json()\n    throw new Error(error?.error_description)\n  }\n\n  const data = await response.json()\n  return data\n}\n\nexport const getVotingPower = async (account: string, poolAddresses: string[], block?: number) => {\n  const blockNumber = block || (await simpleRpcProvider.getBlockNumber())\n  const response = await fetch(`${SNAPSHOT_VOTING_API}/power`, {\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({\n      address: account,\n      block: blockNumber,\n      poolAddresses,\n    }),\n  })\n  const data = await response.json()\n  return data.data\n}\n\nexport const calculateVoteResults = (votes: Vote[]): { [key: string]: Vote[] } => {\n  return votes.reduce((accum, vote) => {\n    const choiceText = vote.proposal.choices[vote.choice - 1]\n\n    return {\n      ...accum,\n      [choiceText]: accum[choiceText] ? [...accum[choiceText], vote] : [vote],\n    }\n  }, {})\n}\n\nexport const getTotalFromVotes = (votes: Vote[]) => {\n  return votes.reduce((accum, vote) => {\n    const power = new BigNumber(vote.metadata?.votingPower)\n    return accum.plus(power)\n  }, BIG_ZERO)\n}\n","export const PROPOSALS_TO_SHOW = 10\nexport const ADMIN_ADDRESS = '0x6eaf1b33b8672c5dc40aB8f4bA3A0111723126c7'\nexport const IPFS_GATEWAY = 'https://gateway.ipfs.io/ipfs'\nexport const SNAPSHOT_VERSION = '0.1.3'\nexport const PANCAKE_SPACE = 'cake.eth'\nexport const VOTE_THRESHOLD = 10\n","import { useSelector } from 'react-redux'\nimport { State } from '../types'\n\n// Voting\nexport const useGetProposals = () => {\n  const proposals = useSelector((state: State) => state.voting.proposals)\n  return Object.values(proposals)\n}\n\nexport const useGetProposal = (proposalId: string) => {\n  const proposal = useSelector((state: State) => state.voting.proposals[proposalId])\n  return proposal\n}\n\nexport const useGetVotes = (proposalId: string) => {\n  const votes = useSelector((state: State) => state.voting.votes[proposalId])\n  return votes ? votes.filter((vote) => vote._inValid !== true) : []\n}\n\nexport const useGetVotingStateLoadingStatus = () => {\n  const votingStatus = useSelector((state: State) => state.voting.voteLoadingStatus)\n  return votingStatus\n}\n\nexport const useGetProposalLoadingStatus = () => {\n  const votingStatus = useSelector((state: State) => state.voting.proposalLoadingStatus)\n  return votingStatus\n}\n","var baseTimes = require('./_baseTimes'),\n    castFunction = require('./_castFunction'),\n    toInteger = require('./toInteger');\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used as references for the maximum length and index of an array. */\nvar MAX_ARRAY_LENGTH = 4294967295;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * Invokes the iteratee `n` times, returning an array of the results of\n * each invocation. The iteratee is invoked with one argument; (index).\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n * @example\n *\n * _.times(3, String);\n * // => ['0', '1', '2']\n *\n *  _.times(4, _.constant(0));\n * // => [0, 0, 0, 0]\n */\nfunction times(n, iteratee) {\n  n = toInteger(n);\n  if (n < 1 || n > MAX_SAFE_INTEGER) {\n    return [];\n  }\n  var index = MAX_ARRAY_LENGTH,\n      length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n  iteratee = castFunction(iteratee);\n  n -= MAX_ARRAY_LENGTH;\n\n  var result = baseTimes(length, iteratee);\n  while (++index < n) {\n    iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = times;\n","import React from 'react'\nimport { TagProps } from 'components/_uikit'\nimport { ClosedTag, CommunityTag, CoreTag, SoonTag, VoteNowTag } from 'components/Tags'\nimport { ProposalState } from 'state/types'\n\ninterface ProposalStateTagProps extends TagProps {\n  proposalState: ProposalState\n}\n\nexport const ProposalStateTag: React.FC<ProposalStateTagProps> = ({ proposalState, ...props }) => {\n  if (proposalState === ProposalState.ACTIVE) {\n    return <VoteNowTag {...props} />\n  }\n\n  if (proposalState === ProposalState.PENDING) {\n    return <SoonTag {...props} />\n  }\n\n  return <ClosedTag {...props} />\n}\n\ninterface ProposalTypeTagProps extends TagProps {\n  isCoreProposal: boolean\n}\n\nexport const ProposalTypeTag: React.FC<ProposalTypeTagProps> = ({ isCoreProposal, ...props }) => {\n  if (isCoreProposal) {\n    return <CoreTag {...props} />\n  }\n\n  return <CommunityTag {...props} />\n}\n","import { Link } from 'react-router-dom'\nimport styled from 'styled-components'\n\nconst BreadcrumbLink = styled(Link)`\n  color: ${({ theme }) => theme.colors.primaryBright};\n`\n\nexport default BreadcrumbLink\n","var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n"],"sourceRoot":""}