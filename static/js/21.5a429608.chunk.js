(this["webpackJsonp1tronic-frontend"]=this["webpackJsonp1tronic-frontend"]||[]).push([[21],{1479:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Q}));var i=n(2),o=n(4),l=n(5),c=n(6),a=n(3),r=n(10),s=n(24),d=n(169),b=n(186),u=n(361),j=n(182),v=n(15),O=n(102),m=n(96),x=n(45),p=n(31),h=n(23),C=n(44),y=n(33),I=n(261),R=n(104),E=n(868),g=n(30),T=n(149);var f=n(46),U=n(49),Y=n(208),w=n(27),N=n(29),_=n(124),k=n(216),S=n(106),B=n(87),D=n(327);function A(){return Object(w.c)((e=>e.burn))}var L=n(52),q=n(236),P=n(0);const V=o.e.div`
  border: solid 1px ${e=>{let{theme:t}=e;return t.colors.cardBorder}};
  border-radius: 8px;;
  padding: 16px;
`;function Q(e){var t,n,o,Q,$,M,z,F,H,W,G,J,K,X,Z,ee,te,ne;let{history:ie,match:{params:{currencyIdA:oe,currencyIdB:le}}}=e;const[ce,ae]=[null!==(t=Object(C.c)(oe))&&void 0!==t?t:void 0,null!==(n=Object(C.c)(le))&&void 0!==n?n:void 0],{account:re,chainId:se,library:de}=Object(h.a)(),[be,ue]=Object(i.useMemo)((()=>[Object(f.b)(ce,se),Object(f.b)(ae,se)]),[ce,ae,se]),{t:je}=Object(r.b)(),{independentField:ve,typedValue:Oe}=A(),{pair:me,parsedAmounts:xe,error:pe}=function(e,t){var n,i;const{account:o,chainId:l}=Object(N.c)(),{independentField:a,typedValue:r}=A(),[,s]=Object(_.b)(e,t),d=Object(B.e)(null!==o&&void 0!==o?o:void 0,[null===s||void 0===s?void 0:s.liquidityToken]),b=null===d||void 0===d?void 0:d[null!==(n=null===s||void 0===s||null===(i=s.liquidityToken)||void 0===i?void 0:i.address)&&void 0!==n?n:""],[u,j]=[Object(f.b)(e,l),Object(f.b)(t,l)],v={[D.a.CURRENCY_A]:u,[D.a.CURRENCY_B]:j,[D.a.LIQUIDITY]:null===s||void 0===s?void 0:s.liquidityToken},O=Object(k.a)(null===s||void 0===s?void 0:s.liquidityToken),m=s&&O&&b&&u&&c.e.greaterThanOrEqual(O.raw,b.raw)?new c.k(u,s.getLiquidityValue(u,O,b,!1).raw):void 0,x=s&&O&&b&&j&&c.e.greaterThanOrEqual(O.raw,b.raw)?new c.k(j,s.getLiquidityValue(j,O,b,!1).raw):void 0,p={[D.a.CURRENCY_A]:m,[D.a.CURRENCY_B]:x};let h=new c.g("0","100");if(a===D.a.LIQUIDITY_PERCENT)h=new c.g(r,"100");else if(a===D.a.LIQUIDITY){if(null===s||void 0===s?void 0:s.liquidityToken){const e=Object(S.a)(r,s.liquidityToken);e&&b&&!e.greaterThan(b)&&(h=new c.g(e.raw,b.raw))}}else if(v[a]){const e=Object(S.a)(r,v[a]),t=p[a];e&&t&&!e.greaterThan(t)&&(h=new c.g(e.raw,t.raw))}const C={[D.a.LIQUIDITY_PERCENT]:h,[D.a.LIQUIDITY]:b&&h&&h.greaterThan("0")?new c.k(b.token,h.multiply(b.raw).quotient):void 0,[D.a.CURRENCY_A]:u&&h&&h.greaterThan("0")&&m?new c.k(u,h.multiply(m.raw).quotient):void 0,[D.a.CURRENCY_B]:j&&h&&h.greaterThan("0")&&x?new c.k(j,h.multiply(x.raw).quotient):void 0};let y;var I;return o||(y="Connect Wallet"),C[D.a.LIQUIDITY]&&C[D.a.CURRENCY_A]&&C[D.a.CURRENCY_B]||(y=null!==(I=y)&&void 0!==I?I:"Enter an amount"),{pair:s,parsedAmounts:C,error:y}}(null!==ce&&void 0!==ce?ce:void 0,null!==ae&&void 0!==ae?ae:void 0),{onUserInput:he}=function(){const e=Object(w.b)();return{onUserInput:Object(i.useCallback)(((t,n)=>{e(Object(D.b)({field:t,typedValue:n}))}),[e])}}(),Ce=!pe,[ye,Ie]=Object(i.useState)(!1),[Re,Ee]=Object(i.useState)(!1),[ge,Te]=Object(i.useState)(""),fe=Object(I.a)(),[Ue]=Object(L.j)(),Ye={[D.a.LIQUIDITY_PERCENT]:xe[D.a.LIQUIDITY_PERCENT].equalTo("0")?"0":xe[D.a.LIQUIDITY_PERCENT].lessThan(new c.g("1","100"))?"<1":xe[D.a.LIQUIDITY_PERCENT].toFixed(0),[D.a.LIQUIDITY]:ve===D.a.LIQUIDITY?Oe:null!==(o=null===(Q=xe[D.a.LIQUIDITY])||void 0===Q?void 0:Q.toSignificant(6))&&void 0!==o?o:"",[D.a.CURRENCY_A]:ve===D.a.CURRENCY_A?Oe:null!==($=null===(M=xe[D.a.CURRENCY_A])||void 0===M?void 0:M.toSignificant(6))&&void 0!==$?$:"",[D.a.CURRENCY_B]:ve===D.a.CURRENCY_B?Oe:null!==(z=null===(F=xe[D.a.CURRENCY_B])||void 0===F?void 0:F.toSignificant(6))&&void 0!==z?z:""},we=null===(H=xe[D.a.LIQUIDITY_PERCENT])||void 0===H?void 0:H.equalTo(new c.g("1")),Ne=Object(y.p)(null===me||void 0===me||null===(W=me.liquidityToken)||void 0===W?void 0:W.address),[_e,ke]=Object(i.useState)(null),[Se,Be]=Object(U.b)(xe[D.a.LIQUIDITY],p.t);const De=Object(i.useCallback)(((e,t)=>(ke(null),he(e,t))),[he]),Ae=Object(i.useCallback)((e=>De(D.a.LIQUIDITY,e)),[De]),Le=Object(i.useCallback)((e=>De(D.a.CURRENCY_A,e)),[De]),qe=Object(i.useCallback)((e=>De(D.a.CURRENCY_B,e)),[De]),Pe=Object(R.d)();async function Ve(){if(!se||!de||!re||!fe)throw new Error("missing dependencies");const{[D.a.CURRENCY_A]:e,[D.a.CURRENCY_B]:t}=xe;if(!e||!t)throw new Error("missing currency amounts");const n=Object(g.g)(se,de,re),i={[D.a.CURRENCY_A]:Object(g.c)(e,Ue)[0],[D.a.CURRENCY_B]:Object(g.c)(t,Ue)[0]};if(!ce||!ae)throw new Error("missing tokens");const o=xe[D.a.LIQUIDITY];if(!o)throw new Error("missing liquidity amount");const l=ae===c.d,a=ce===c.d||l;if(!be||!ue)throw new Error("could not wrap");let r,s,d;a?(r=n.estimateGas.removeLiquidityETH,s=n.removeLiquidityETH,d=[l?be.address:ue.address,o.raw.toString(),i[l?D.a.CURRENCY_A:D.a.CURRENCY_B].toString(),i[l?D.a.CURRENCY_B:D.a.CURRENCY_A].toString(),re,fe.toHexString()]):(r=n.estimateGas.removeLiquidity,s=n.removeLiquidity,d=[be.address,ue.address,o.raw.toString(),i[D.a.CURRENCY_A].toString(),i[D.a.CURRENCY_B].toString(),re,fe.toHexString()]),Ee(!0),await r(...d).then((e=>s(...d,{gasLimit:Object(g.b)(e)}).then((e=>{var t,n;Ee(!1),Pe(e,{summary:`Remove ${null===(t=xe[D.a.CURRENCY_A])||void 0===t?void 0:t.toSignificant(3)} ${null===ce||void 0===ce?void 0:ce.symbol} and ${null===(n=xe[D.a.CURRENCY_B])||void 0===n?void 0:n.toSignificant(3)} ${null===ae||void 0===ae?void 0:ae.symbol}`}),Te(e.hash)})))).catch((e=>{Ee(!1),4001!==(null===e||void 0===e?void 0:e.code)&&console.error(e)}))}function Qe(){var e,t;return Object(P.jsxs)(s.a,{gap:"md",children:[Object(P.jsxs)(v.b,{align:"flex-end",children:[Object(P.jsx)(a.Vb,{fontSize:"24px",color:"background",children:null===(e=xe[D.a.CURRENCY_A])||void 0===e?void 0:e.toSignificant(6)}),Object(P.jsxs)(v.c,{gap:"4px",children:[Object(P.jsx)(x.a,{currency:ce,size:"24px"}),Object(P.jsx)(a.Vb,{fontSize:"24px",ml:"10px",color:"background",children:null===ce||void 0===ce?void 0:ce.symbol})]})]}),Object(P.jsx)(v.c,{children:Object(P.jsx)(a.a,{width:"16px"})}),Object(P.jsxs)(v.b,{align:"flex-end",children:[Object(P.jsx)(a.Vb,{fontSize:"24px",color:"background",children:null===(t=xe[D.a.CURRENCY_B])||void 0===t?void 0:t.toSignificant(6)}),Object(P.jsxs)(v.c,{gap:"4px",children:[Object(P.jsx)(x.a,{currency:ae,size:"24px"}),Object(P.jsx)(a.Vb,{fontSize:"24px",ml:"10px",color:"background",children:null===ae||void 0===ae?void 0:ae.symbol})]})]}),Object(P.jsx)(a.Vb,{small:!0,textAlign:"left",pt:"12px",color:"background",children:je("Output is estimated. If the price changes by more than %slippage%% your transaction will revert.",{slippage:Ue/100})})]})}function $e(){var e,t,n;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(v.b,{children:[je("%assetA%/%assetB% Burned",{assetA:null!==(e=null===ce||void 0===ce?void 0:ce.symbol)&&void 0!==e?e:"",assetB:null!==(t=null===ae||void 0===ae?void 0:ae.symbol)&&void 0!==t?t:""}),Object(P.jsxs)(v.c,{children:[Object(P.jsx)(x.b,{currency0:ce,currency1:ae,margin:!0}),Object(P.jsx)(a.Vb,{color:"background",children:null===(n=xe[D.a.LIQUIDITY])||void 0===n?void 0:n.toSignificant(6)})]})]}),me&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)(v.b,{children:[Object(P.jsx)(a.Vb,{color:"background",children:je("Price")}),Object(P.jsxs)(a.Vb,{color:"background",children:["1 ",null===ce||void 0===ce?void 0:ce.symbol," = ",be?me.priceOf(be).toSignificant(6):"-"," ",null===ae||void 0===ae?void 0:ae.symbol]})]}),Object(P.jsxs)(v.b,{children:[Object(P.jsx)("div",{}),Object(P.jsxs)(a.Vb,{color:"background",children:["1 ",null===ae||void 0===ae?void 0:ae.symbol," = ",ue?me.priceOf(ue).toSignificant(6):"-"," ",null===ce||void 0===ce?void 0:ce.symbol]})]})]}),Object(P.jsx)(a.q,{disabled:!(Se===U.a.APPROVED||null!==_e),onClick:Ve,children:je("Confirm")})]})}const Me=je("Removing %amountA% %symbolA% and %amountB% %symbolB%",{amountA:null!==(G=null===(J=xe[D.a.CURRENCY_A])||void 0===J?void 0:J.toSignificant(6))&&void 0!==G?G:"",symbolA:null!==(K=null===ce||void 0===ce?void 0:ce.symbol)&&void 0!==K?K:"",amountB:null!==(X=null===(Z=xe[D.a.CURRENCY_B])||void 0===Z?void 0:Z.toSignificant(6))&&void 0!==X?X:"",symbolB:null!==(ee=null===ae||void 0===ae?void 0:ae.symbol)&&void 0!==ee?ee:""}),ze=Object(i.useCallback)((e=>{De(D.a.LIQUIDITY_PERCENT,e.toString())}),[De]),Fe=ce===c.d||ae===c.d,He=Boolean(se&&(ce&&Object(c.o)(c.n[se],ce)||ae&&Object(c.o)(c.n[se],ae))),We=Object(i.useCallback)((e=>{le&&Object(T.a)(e)===le?ie.push(`/remove/${Object(T.a)(e)}/${oe}`):ie.push(`/remove/${Object(T.a)(e)}/${le}`)}),[oe,le,ie]),Ge=Object(i.useCallback)((e=>{oe&&Object(T.a)(e)===oe?ie.push(`/remove/${le}/${Object(T.a)(e)}`):ie.push(`/remove/${oe}/${Object(T.a)(e)}`)}),[oe,le,ie]),Je=Object(i.useCallback)((()=>{ke(null),ge&&De(D.a.LIQUIDITY_PERCENT,"0"),Te("")}),[De,ge]),[Ke,Xe]=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;const[o,l]=Object(i.useState)((()=>e)),c=Object(i.useRef)(),a=Object(i.useCallback)((e=>{l(e),c.current&&clearTimeout(c.current),c.current=setTimeout((()=>{t(e),c.current=void 0}),n)}),[n,t]);return Object(i.useEffect)((()=>{c.current&&(clearTimeout(c.current),c.current=void 0),l(e)}),[e]),[o,a]}(Number.parseInt(xe[D.a.LIQUIDITY_PERCENT].toFixed(0)),ze),[Ze]=Object(a.rc)(Object(P.jsx)(d.c,{title:je("You will receive"),customOnDismiss:Je,attemptingTxn:Re,hash:ge||"",content:()=>Object(P.jsx)(d.a,{topContent:Qe,bottomContent:$e}),pendingText:Me}),!0,!0,"removeLiquidityModal");return Object(P.jsxs)(q.a,{children:[Object(P.jsxs)(j.a,{children:[Object(P.jsx)(j.b,{backTo:"/pool",title:je("Remove %assetA%-%assetB% liquidity",{assetA:null!==(te=null===ce||void 0===ce?void 0:ce.symbol)&&void 0!==te?te:"",assetB:null!==(ne=null===ae||void 0===ae?void 0:ae.symbol)&&void 0!==ne?ne:""}),subtitle:`To receive ${null===ce||void 0===ce?void 0:ce.symbol} and ${null===ae||void 0===ae?void 0:ae.symbol}`,noConfig:!0}),Object(P.jsxs)(a.v,{children:[Object(P.jsxs)(s.a,{gap:"20px",children:[Object(P.jsxs)(v.b,{children:[Object(P.jsx)(a.Vb,{children:je("Amount")}),Object(P.jsx)(a.q,{variant:"text",scale:"sm",onClick:()=>Ie(!ye),children:je(ye?"Simple":"Detailed")})]}),!ye&&Object(P.jsxs)(V,{children:[Object(P.jsxs)(a.Vb,{fontSize:"40px",bold:!0,mb:"16px",style:{lineHeight:1},children:[Ye[D.a.LIQUIDITY_PERCENT],"%"]}),Object(P.jsx)(a.Mb,{name:"lp-amount",min:0,max:100,value:Ke,onValueChanged:e=>Xe(Math.ceil(e)),mb:"16px"}),Object(P.jsxs)(a.T,{flexWrap:"wrap",justifyContent:"space-evenly",children:[Object(P.jsx)(a.q,{variant:"tertiary",scale:"sm",onClick:()=>De(D.a.LIQUIDITY_PERCENT,"25"),children:"25%"}),Object(P.jsx)(a.q,{variant:"tertiary",scale:"sm",onClick:()=>De(D.a.LIQUIDITY_PERCENT,"50"),children:"50%"}),Object(P.jsx)(a.q,{variant:"tertiary",scale:"sm",onClick:()=>De(D.a.LIQUIDITY_PERCENT,"75"),children:"75%"}),Object(P.jsx)(a.q,{variant:"tertiary",scale:"sm",onClick:()=>De(D.a.LIQUIDITY_PERCENT,"100"),children:"Max"})]})]})]}),!ye&&Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(s.b,{children:Object(P.jsx)(a.c,{color:"textSubtle",width:"24px",my:"16px"})}),Object(P.jsxs)(s.a,{gap:"10px",children:[Object(P.jsx)(a.Vb,{bold:!0,color:"secondary",fontSize:"12px",textTransform:"uppercase",children:je("You will receive")}),Object(P.jsxs)(m.c,{children:[Object(P.jsxs)(a.T,{justifyContent:"space-between",mb:"8px",children:[Object(P.jsxs)(a.T,{children:[Object(P.jsx)(x.a,{currency:ce}),Object(P.jsx)(a.Vb,{small:!0,color:"textSubtle",id:"remove-liquidity-tokena-symbol",ml:"4px",children:null===ce||void 0===ce?void 0:ce.symbol})]}),Object(P.jsx)(a.Vb,{small:!0,children:Ye[D.a.CURRENCY_A]||"-"})]}),Object(P.jsxs)(a.T,{justifyContent:"space-between",children:[Object(P.jsxs)(a.T,{children:[Object(P.jsx)(x.a,{currency:ae}),Object(P.jsx)(a.Vb,{small:!0,color:"textSubtle",id:"remove-liquidity-tokenb-symbol",ml:"4px",children:null===ae||void 0===ae?void 0:ae.symbol})]}),Object(P.jsx)(a.Vb,{small:!0,children:Ye[D.a.CURRENCY_B]||"-"})]}),se&&(He||Fe)?Object(P.jsx)(v.b,{style:{justifyContent:"flex-end",fontSize:"14px"},children:Fe?Object(P.jsx)(E.a,{to:`/remove/${ce===c.d?c.n[se].address:oe}/${ae===c.d?c.n[se].address:le}`,children:je("Receive WBNB")}):He?Object(P.jsx)(E.a,{to:`/remove/${ce&&Object(c.o)(ce,c.n[se])?"BNB":oe}/${ae&&Object(c.o)(ae,c.n[se])?"BNB":le}`,children:je("Receive BNB")}):null}):null]})]})]}),ye&&Object(P.jsxs)(a.m,{my:"16px",children:[Object(P.jsx)(b.a,{value:Ye[D.a.LIQUIDITY],onUserInput:Ae,onMax:()=>{De(D.a.LIQUIDITY_PERCENT,"100")},showMaxButton:!we,disableCurrencySelect:!0,currency:null===me||void 0===me?void 0:me.liquidityToken,pair:me,id:"liquidity-amount",onCurrencySelect:()=>null}),Object(P.jsx)(s.b,{children:Object(P.jsx)(a.c,{width:"24px",my:"16px"})}),Object(P.jsx)(b.a,{hideBalance:!0,value:Ye[D.a.CURRENCY_A],onUserInput:Le,onMax:()=>De(D.a.LIQUIDITY_PERCENT,"100"),showMaxButton:!we,currency:ce,label:je("Output"),onCurrencySelect:We,id:"remove-liquidity-tokena"}),Object(P.jsx)(s.b,{children:Object(P.jsx)(a.a,{width:"24px",my:"16px"})}),Object(P.jsx)(b.a,{hideBalance:!0,value:Ye[D.a.CURRENCY_B],onUserInput:qe,onMax:()=>De(D.a.LIQUIDITY_PERCENT,"100"),showMaxButton:!we,currency:ae,label:je("Output"),onCurrencySelect:Ge,id:"remove-liquidity-tokenb"})]}),me&&Object(P.jsxs)(s.a,{gap:"10px",style:{marginTop:"16px"},children:[Object(P.jsx)(a.Vb,{bold:!0,color:"secondary",fontSize:"12px",textTransform:"uppercase",children:je("Prices")}),Object(P.jsxs)(m.c,{children:[Object(P.jsxs)(a.T,{justifyContent:"space-between",children:[Object(P.jsxs)(a.Vb,{small:!0,color:"textSubtle",children:["1 ",null===ce||void 0===ce?void 0:ce.symbol," ="]}),Object(P.jsxs)(a.Vb,{small:!0,children:[be?me.priceOf(be).toSignificant(6):"-"," ",null===ae||void 0===ae?void 0:ae.symbol]})]}),Object(P.jsxs)(a.T,{justifyContent:"space-between",children:[Object(P.jsxs)(a.Vb,{small:!0,color:"textSubtle",children:["1 ",null===ae||void 0===ae?void 0:ae.symbol," ="]}),Object(P.jsxs)(a.Vb,{small:!0,children:[ue?me.priceOf(ue).toSignificant(6):"-"," ",null===ce||void 0===ce?void 0:ce.symbol]})]})]})]}),Object(P.jsx)(a.m,{position:"relative",mt:"16px",children:re?Object(P.jsxs)(v.b,{children:[Object(P.jsx)(a.q,{variant:Se===U.a.APPROVED||null!==_e?"success":"primary",onClick:async function(){if(!Ne||!me||!de||!fe)throw new Error("missing dependencies");const e=xe[D.a.LIQUIDITY];if(!e)throw new Error("missing liquidity amount");const t=await Ne.nonces(re),n={name:"1TRC LPs",version:"1",chainId:se,verifyingContract:me.liquidityToken.address},i={owner:re,spender:p.t,value:e.raw.toString(),nonce:t.toHexString(),deadline:fe.toNumber()},o=JSON.stringify({types:{EIP712Domain:[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],Permit:[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}]},domain:n,primaryType:"Permit",message:i});de.send("eth_signTypedData_v4",[re,o]).then(l.m).then((e=>{ke({v:e.v,r:e.r,s:e.s,deadline:fe.toNumber()})})).catch((e=>{4001!==(null===e||void 0===e?void 0:e.code)&&Be()}))},disabled:Se!==U.a.NOT_APPROVED||null!==_e,width:"100%",mr:"0.5rem",children:Se===U.a.PENDING?Object(P.jsx)(Y.a,{children:je("Approving")}):Se===U.a.APPROVED||null!==_e?je("Approved"):je("Approve")}),Object(P.jsx)(a.q,{variant:!Ce&&xe[D.a.CURRENCY_A]&&xe[D.a.CURRENCY_B]?"danger":"primary",onClick:()=>{Ze()},width:"100%",disabled:!Ce||null===_e&&Se!==U.a.APPROVED,children:pe||je("Remove")})]}):Object(P.jsx)(O.a,{})})]})]}),me?Object(P.jsx)(s.a,{style:{minWidth:"20rem",width:"100%",maxWidth:"400px",marginTop:"1rem"},children:Object(P.jsx)(u.a,{showUnwrapped:He,pair:me})}):null]})}},868:function(e,t,n){"use strict";var i=n(59),o=n(4);const l=Object(o.e)(i.a)`
  text-decoration: none;
  cursor: pointer;
  color: ${e=>{let{theme:t}=e;return t.colors.primary}};
  font-weight: 500;

  :hover {
    text-decoration: underline;
  }

  :focus {
    outline: none;
    text-decoration: underline;
  }

  :active {
    text-decoration: none;
  }
`;t.a=l}}]);
//# sourceMappingURL=21.5a429608.chunk.js.map