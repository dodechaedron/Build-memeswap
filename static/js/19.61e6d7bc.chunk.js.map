{"version":3,"sources":["components/EasyMde/index.tsx"],"names":["Wrapper","styled","div","_ref","theme","colors","input","_ref2","cardBorder","_ref3","shadows","inset","_ref4","text","_ref5","card","background","_ref6","_ref7","_ref8","_ref9","defaultOptions","autofocus","status","hideIcons","spellChecker","styleSelectedText","SimpleMde","_ref10","options","onTextChange","props","ref","useRef","onTextChangeHandler","useEffect","simpleMde","EasyMde","merge","element","current","codemirror","on","value","toTextArea","_jsx","children","readOnly"],"mappings":"mJAAA,+EAYA,MAAMA,EAAUC,IAAOC,GAAG;;kBAERC,IAAA,IAAC,MAAEC,GAAOD,EAAA,OAAKC,EAAMC,OAAOC;oBAC1BC,IAAA,IAAC,MAAEH,GAAOG,EAAA,OAAKH,EAAMC,OAAOG;;;kBAG9BC,IAAA,IAAC,MAAEL,GAAOK,EAAA,OAAKL,EAAMM,QAAQC;;;;;aAKlCC,IAAA,IAAC,MAAER,GAAOQ,EAAA,OAAKR,EAAMC,OAAOQ;;;;kBAIvBC,IAAA,IAAC,MAAEV,GAAOU,EAAA,OAAKV,EAAMW,KAAKC;oBACxBC,IAAA,IAAC,MAAEb,GAAOa,EAAA,OAAKb,EAAMC,OAAOG;;;aAGnCU,IAAA,IAAC,MAAEd,GAAOc,EAAA,OAAKd,EAAMC,OAAOQ;;;;eAI1BM,IAAA,IAAC,MAAEf,GAAOe,EAAA,OAAKf,EAAMC,OAAOQ;;;;sBAIrBO,IAAA,IAAC,MAAEhB,GAAOgB,EAAA,OAAKhB,EAAMC,OAAOW;;;;;EAU5CK,EAAkC,CACtCC,WAAW,EACXC,QAAQ,EACRC,UAAW,CAAC,QAAS,aAAc,UAAW,gBAC9CC,cAAc,EACdC,mBAAmB,GA6BNC,UA1B6BC,IAA0C,IAAzC,QAAEC,EAAO,aAAEC,KAAiBC,GAAOH,EAC9E,MAAMI,EAAMC,mBACNC,EAAsBD,iBAAOH,GAiBnC,OAfAK,qBAAU,KACR,IAAIC,EAAY,IAAIC,IAAQC,IAAM,CAAEC,QAASP,EAAIQ,SAAWnB,EAAgBQ,IAM5E,OAJAO,EAAUK,WAAWC,GAAG,UAAU,KAChCR,EAAoBM,QAAQJ,EAAUO,YAGjC,KACDP,IACFA,EAAUQ,aACVR,EAAY,SAGf,CAACP,EAASK,EAAqBF,IAGhCa,cAAC7C,EAAO,CAAA8C,SACND,cAAA,YAAUb,IAAKA,EAAKe,UAAQ,KAAKhB","file":"static/js/19.61e6d7bc.chunk.js","sourcesContent":["import React, { TextareaHTMLAttributes, useEffect, useRef } from 'react'\nimport EasyMde from 'easymde'\nimport styled from 'styled-components'\nimport merge from 'lodash/merge'\n\nimport 'easymde/dist/easymde.min.css'\n\ninterface SimpleMdeProps extends Omit<TextareaHTMLAttributes<HTMLTextAreaElement>, 'onChange'> {\n  options?: EasyMde.Options\n  onTextChange: (value: string) => void\n}\n\nconst Wrapper = styled.div`\n  .EasyMDEContainer .CodeMirror {\n    background: ${({ theme }) => theme.colors.input};\n    border-color: ${({ theme }) => theme.colors.cardBorder};\n    border-bottom-left-radius: 16px;\n    border-bottom-right-radius: 16px;\n    box-shadow: ${({ theme }) => theme.shadows.inset};\n    padding: 16px;\n  }\n\n  .CodeMirror-code {\n    color: ${({ theme }) => theme.colors.text};\n  }\n\n  .editor-toolbar {\n    background: ${({ theme }) => theme.card.background};\n    border-color: ${({ theme }) => theme.colors.cardBorder};\n    border-top-left-radius: 16px;\n    border-top-right-radius: 16px;\n    color: ${({ theme }) => theme.colors.text};\n\n    a,\n    button {\n      color: ${({ theme }) => theme.colors.text};\n\n      &:hover,\n      &.active {\n        background: ${({ theme }) => theme.colors.background};\n        border: 0;\n      }\n    }\n  }\n`\n\n/**\n * @see https://github.com/Ionaru/easy-markdown-editor#configuration\n */\nconst defaultOptions: EasyMde.Options = {\n  autofocus: false,\n  status: false,\n  hideIcons: ['guide', 'fullscreen', 'preview', 'side-by-side'],\n  spellChecker: false,\n  styleSelectedText: false,\n}\n\nconst SimpleMde: React.FC<SimpleMdeProps> = ({ options, onTextChange, ...props }) => {\n  const ref = useRef()\n  const onTextChangeHandler = useRef(onTextChange)\n\n  useEffect(() => {\n    let simpleMde = new EasyMde(merge({ element: ref.current }, defaultOptions, options))\n\n    simpleMde.codemirror.on('change', () => {\n      onTextChangeHandler.current(simpleMde.value())\n    })\n\n    return () => {\n      if (simpleMde) {\n        simpleMde.toTextArea()\n        simpleMde = null\n      }\n    }\n  }, [options, onTextChangeHandler, ref])\n\n  return (\n    <Wrapper>\n      <textarea ref={ref} readOnly {...props} />\n    </Wrapper>\n  )\n}\n\nexport default SimpleMde\n"],"sourceRoot":""}